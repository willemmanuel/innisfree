<h1>Resident Management</h1>

    <%= button_to 'New Resident', new_resident_path, method: :get %>
    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th>Name</th>
        <th>House</th>
        <th>Notes</th>
        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
      <% @residents.each do |resident| %>
          <tr>
            <td><%= link_to resident.name, resident%></td>
            <% if resident.house != nil %>
            <td><%= link_to resident.house.name, resident.house%></td>
                <% else %>
            <td><%= 'No House'%></td>
                <% end %>
            <td><%= resident.notes %></td>
            <td><%= link_to 'See Detail', resident %></td>
            <td><%= link_to 'Edit', edit_resident_path(resident) %></td>
            <td><%= link_to 'Delete', resident, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
      <% end %>
      </tbody>
    </table>

    <br>
    <% if current_user.admin %>
    <p>
      <%= link_to "Download as CSV", residents_path(format: "csv") %>
    </p>
    <% end %>
